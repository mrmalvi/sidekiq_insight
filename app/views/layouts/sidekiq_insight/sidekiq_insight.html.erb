<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sidekiq Insight</title>

  <!-- Bootstrap CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Chart.js (v4) + date adapter BEFORE Chartkick -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

  <!-- Chartkick -->
  <script src="https://cdn.jsdelivr.net/npm/chartkick@5.0.1/dist/chartkick.min.js"></script>

  <style>
    body { background: #f8f9fa; font-family: -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .container { margin-top: 20px; }
  </style>
  <script>
    Chartkick.use(Chart);
  </script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="<%= sidekiq_insight.root_path %>">Sidekiq Insight</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="<%= sidekiq_insight.root_path %>">Overview</a></li>
        <li class="nav-item"><a class="nav-link" href="<%= sidekiq_insight.cpu_path %>">CPU</a></li>
        <li class="nav-item"><a class="nav-link" href="<%= sidekiq_insight.rss_path %>">Memory</a></li>
        <li class="nav-item"><a class="nav-link" href="<%= sidekiq_insight.leaks_path %>">Leak Detector</a></li>
        <li class="nav-item"><a class="nav-link" href="<%= sidekiq_insight.wall_path %>">Wall Time Analysis</a></li>

      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <% if flash[:notice] %>
    <div class="alert alert-success"><%= flash[:notice] %></div>
  <% end %>

  <%= yield %>
</div>
</body>
</html>
