<div class="container py-4">

  <h2 class="mb-4 text-success fw-bold">
    RSS Memory Usage â€” Top Jobs
  </h2>

  <!-- Jobs Table -->
  <div class="card mb-4 shadow-sm">
    <div class="card-header bg-success text-white">
      Job Memory Summary
    </div>

    <div class="card-body p-0">
      <table class="table table-hover table-striped mb-0">
        <thead class="table-light">
          <tr>
            <th>Job</th>
            <th>Average RSS (KB)</th>
            <th>Runs</th>
          </tr>
        </thead>

        <tbody>
          <% @jobs.each do |job| %>
            <tr>
              <td><strong><%= job[:key] %></strong></td>
              <td><%= job[:avg_mem_kb].round(2) %></td>
              <td><%= job[:count] %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Chart -->
  <%= render partial: "chart",
             locals: { title: "RSS Memory (KB)",
                       dom_id: "rss_chart",
                       data: @rss_chart } %>

</div>
