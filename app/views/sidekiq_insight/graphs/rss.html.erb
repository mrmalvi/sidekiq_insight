<div class="container py-4">
  <h2 class="mb-4 text-success fw-bold">RSS Memory Usage â€” Top Jobs</h2>

  <div class="card mb-4 shadow-sm">
    <div class="card-header bg-success text-white">Job Memory Summary</div>

    <div class="card-body p-0">
      <table class="table table-striped table-hover mb-0">
        <thead class="table-light">
          <tr>
            <th>Job</th>
            <th>Avg RSS (KB)</th>
            <th>Avg CPU (ms)</th>
            <th>Runs</th>
          </tr>
        </thead>

        <tbody>
          <% @jobs.each do |job| %>
            <tr>
              <td><strong><%= job[:key] %></strong></td>
              <td><%= job[:avg_mem_kb].round(2) %> KB</td>
              <td><%= job[:avg_cpu_ms].round(2) %> ms</td>
              <td><%= job[:count] %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <%= render "chart",
             title: "RSS Memory (KB)",
             dom_id: "rss_chart",
             data: @rss_chart %>
</div>
